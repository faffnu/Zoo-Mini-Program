# 动物园小程序

## 演示视频

### 微信小程序端



### Web管理后台





## 系统整体架构

### 前端架构（双端）

#### 微信小程序端
- **技术栈**：微信小程序原生框架 + weui组件库
- **核心页面**：
  - 首页(index)
  - 动物列表(animals) 
  - 地图导航(map)
  - 个人中心(me)
- **子功能模块**：
  - 动物相关：动物详情、浏览记录、收藏功能
  - 订单系统：订单列表、订单详情、支付功能
  - 用户互动：评论系统、点赞功能、分享功能
  - 活动管理：活动列表、活动详情
  - 优惠系统：优惠券管理

#### Web管理后台
- **技术栈**：Vue 3 + Element Plus + Vue Router
- **架构特点**：
  - 组件化开发模式
  - 主要组件位于`src/views`和`src/components`目录
  - 包含登录、管理后台等核心页面

### 后端架构
- **技术栈**：Spring Boot 3.2.0 + MyBatis-Plus
- **分层架构**：
  - Controller层：处理HTTP请求，提供RESTful API
  - Service层：实现业务逻辑
  - Mapper层：数据访问层
  - Entity层：实体类定义

## 核心功能模块

### 用户管理模块
- 管理员信息管理
- 普通用户管理
- 登录认证与权限控制
- 基于角色的访问控制

### 动物管理模块
- 动物信息管理（分类展示、详情查看）
- 动物分类管理
- 动物浏览记录
- 动物收藏功能
- 距离显示：显示用户与各动物展区的距离

### 地图导航模块
- **实时定位**：基于高德地图SDK实现用户实时定位
- **路线规划**：支持步行和驾车路线规划，根据距离自动选择最优路线
- **地图搜索**：支持园区内设施搜索和位置导航
- **地图标记**：显示园区内各个动物展区和设施位置

### 活动管理模块
- 活动信息发布
- 活动管理
- 活动列表展示
- 活动详情查看

### 订单管理模块
- 门票购买：支持在线购买门票
- 订单状态管理：查看订单状态和历史记录
- 核销功能：支持二维码核销
- 退款功能：支持订单退款申请
- 订单统计功能

### 优惠券模块
- 优惠券管理
- 用户优惠券领取
- 优惠券使用与核销
- 优惠券过期检查
- 支持优惠券秒杀功能

### 评论互动模块
- 评论管理
- 评论点赞功能
- 评论评分统计
- 分享功能：支持分享给好友或群聊

## 技术特点与实现

### 缓存机制
- 使用Redis作为缓存服务器
- 实现了多级缓存策略
- 包含缓存预热、缓存更新等机制
- 合理使用本地缓存提升性能

### 消息队列
- 集成RabbitMQ消息队列
- 实现订单超时处理
- 支持优惠券秒杀功能

### 数据存储
- MySQL作为主数据库
- 使用MyBatis-Plus作为ORM框架
- 支持事务管理

### 前端技术特点

#### 微信小程序端
- **用户体验优化**：
  - 下拉刷新：支持页面下拉刷新
  - 上拉加载：实现分页加载功能
  - 加载状态：完善的加载状态提示
  - 错误处理：友好的错误提示机制
- **地图集成**：集成高德地图SDK实现导航功能
- **组件化开发**：采用组件化方式构建UI

#### Web管理端
- **组件化开发**：采用Vue 3组合式API
- **路由管理**：使用Vue Router进行路由管理
- **UI框架**：使用Element Plus组件库

### 后端交互
- **API设计**：采用RESTful风格的API设计
- **认证机制**：使用Token进行用户身份验证
- **文件处理**：支持图片和视频文件上传
- **跨域处理**：实现了CORS跨域处理

### 安全性设计
- **用户认证**：完整的用户登录认证流程，实现登录拦截器
- **数据安全**：
  - 密码加密存储
  - 前后端数据验证
  - 敏感信息加密处理
- **权限控制**：基于角色的访问控制机制

## 系统特性总结

### 技术亮点
1. **双端协同**：微信小程序面向游客，Web管理端面向管理员
2. **智能导航**：集成高德地图实现精准的园区导航功能
3. **实时交互**：支持用户评论、点赞、收藏等互动功能
4. **业务完整**：涵盖门票购买、活动管理、优惠券等完整业务流程

### 性能优化
- 多级缓存策略提升系统响应速度
- 消息队列处理高并发场景
- 前端组件化开发提高代码复用性
- 合理的数据库索引设计

### 可扩展性
- 模块化设计便于功能扩展
- 微服务架构为后续拆分预留空间
- 标准化的API接口便于第三方集成

